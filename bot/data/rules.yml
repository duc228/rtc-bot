version: "3.1"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Ask detail helper
  steps:
  - intent: detail_helper
  - action: utter_detail_helper

- rule: thank support
  steps:
  - intent: thanks
  - action: utter_thanks

- rule: ask school id
  steps:
  - intent: ask_school_id
  - action: request_school_id_form
  - active_loop: request_school_id_form

- rule: submit branch
  condition:
    - active_loop: request_school_id_form
  steps:
    - action: request_school_id_form
    - active_loop: null
    - slot_was_set:
      - requested_slot: null
    - action: action_school_id
    - action: action_reset_all_slots

- rule: submit major to request time learning
  condition:
    - active_loop: request_time_learning_major_form
  steps:
    - action: request_time_learning_major_form
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: action_get_time_learning_major
    - action: action_reset_all_slots

- rule: ask all majors
  steps:
    - intent: ask_majors_school
    - action: action_get_all_majors
- rule: ask num of joins
  steps:
    - intent: ask_num_joins
    - action: utter_ask_num_joins

- rule: ask how to joins
  steps:
    - intent: ask_how_joins
    - action: action_get_all_joins

- rule: ask time learning
  steps:
    - intent: ask_time_learning
    - action: utter_ask_time_learning

- rule: ask_point
  steps:
    - intent: ask_point
    - action: action_get_all_points

- rule: ask time learning detail
  steps:
    - intent: ask_time_learning_detail
    - action: action_get_time_learning_major
    - action: action_reset_all_slots